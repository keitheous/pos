\%= form_with(model: %= singular_table_name %&gt;, local: true) do |form| %&gt;
\% if %= singular_table_name %&gt;.errors.any? %&gt;
#error_explanation
  %h2
    \%= pluralize(%= singular_table_name %&gt;.errors.count, "error") %&gt; prohibited this #{singular_table_name} from being saved:
  %ul
    \% %= singular_table_name %&gt;.errors.full_messages.each do |message| %&gt;
    %li %= message %&gt;
    \% end %&gt;
\% end %&gt;
- attributes.each do |attribute|
  .field
    - if attribute.password_digest?
      \%= form.label :password %&gt;
      \%= form.password_field :password, id: :%= field_id(:password) %&gt; %&gt;
    .field
      \%= form.label :password_confirmation %&gt;
      \%= form.password_field :password_confirmation, id: :%= field_id(:password_confirmation) %&gt; %&gt;
    - else
      \%= form.label :%= attribute.column_name %&gt; %&gt;
      \%= form.%= attribute.field_type %&gt; :#{attribute.column_name}, id: :#{field_id(attribute.column_name)} %&gt;
.actions
  \%= form.submit %&gt;
\% end %&gt;
